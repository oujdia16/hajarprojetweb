<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculatrice – Hajar El Abid</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.6.0/dist/full.css" rel="stylesheet" />
</head>

<body class="bg-gray-100 min-h-screen p-6 font-sans">

  <!-- Bouton pour afficher la calculatrice -->
  <nav class="mb-6">
    <button id="toggleCalc" class="btn btn-rose btn-sm">
      Ouvrir la calculatrice
    </button>
  </nav>

  <!-- Calculatrice intégrée (cachée au début) -->
  <div id="calcBox" class="bg-white rounded-2xl shadow-lg w-full max-w-xs p-6 mb-6 hidden mx-auto">
    <input
      id="calc-display"
      type="text"
      class="input input-bordered input-lg w-full mb-4 text-right font-mono"
      placeholder="0"
      disabled
    />

    <div class="grid grid-cols-4 gap-2 text-base">
      <!-- Chiffres -->
      <button data-val="7" class="btn">7</button>
      <button data-val="8" class="btn">8</button>
      <button data-val="9" class="btn">9</button>
      <button data-val="+" class="btn btn-rose btn-outline font-bold">+</button>

      <button data-val="4" class="btn">4</button>
      <button data-val="5" class="btn">5</button>
      <button data-val="6" class="btn">6</button>
      <button data-val="-" class="btn btn-rose btn-outline font-bold">−</button>

      <button data-val="1" class="btn">1</button>
      <button data-val="2" class="btn">2</button>
      <button data-val="3" class="btn">3</button>
      <button data-val="*" class="btn btn-rose btn-outline font-bold">×</button>

      <button data-val="0" class="btn col-span-2">0</button>
      <button data-val="." class="btn">.</button>
      <button data-val="/" class="btn btn-rose btn-outline font-bold">÷</button>

      <!-- Clear & Equal -->
      <button id="clear" class="btn btn-error font-bold">C</button>
      <button id="equal" class="btn btn-success col-span-3 font-bold">=</button>
    </div>
  </div>

  <script>
    const toggleBtn = document.getElementById('toggleCalc');
    const calcBox = document.getElementById('calcBox');
    const display = document.getElementById('calc-display');
    const clear = document.getElementById('clear');
    const equal = document.getElementById('equal');

    toggleBtn.addEventListener('click', () => {
      calcBox.classList.toggle('hidden');
      if (!calcBox.classList.contains('hidden')) {
        display.value = '';
      }
    });

    document.querySelectorAll('#calcBox .btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const val = btn.getAttribute('data-val');
        if (val) display.value += val;
      });
    });

    clear.addEventListener('click', () => {
      display.value = '';
    });

    equal.addEventListener('click', () => {
      try {
        display.value = eval(display.value) || '';
      } catch {
        display.value = 'Erreur';
      }
    });
  </script>
</body>
</html>
